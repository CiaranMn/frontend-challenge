(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(A,e){A.exports="data:image/gif;base64,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"},function(A,e,t){A.exports=t(28)},,,,,,function(A,e,t){},,,function(A,e,t){},,function(A,e,t){},,function(A,e,t){},,function(A,e,t){},,function(A,e,t){"use strict";t.r(e);var a=t(1),n=t.n(a),o=t(9),i=t.n(o),r=(t(17),t(4)),g=t(2),s=t(3),C=t(6),c=t(5),h=t(7),l=t(0),d=t.n(l),B=(t(20),t(10)),u=t.n(B),I=function(){function A(){Object(g.a)(this,A)}return Object(s.a)(A,null,[{key:"init",value:function(){this.baseUrl="http://localhost:3000",this.getBookedDates=this.getBookedDates.bind(this),this.changeDateStatus=this.changeDateStatus.bind(this)}},{key:"requestBookedDates",value:function(A,e){if(!d()(A).isValid()|!A)return Promise.reject("No valid start date for the request supplied.");if(!d()(e).isValid()|!e)return Promise.reject("No valid end date for the request supplied.");var t=d()(A).format("YYYY-MM-DD"),a=d()(e).format("YYYY-MM-DD");return this.getBookedDates({start:t,end:a})}},{key:"getBookedDates",value:function(A){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=A.start,n=A.end;return fetch(this.baseUrl+"/reserved/".concat(a,"/").concat(n)).then(function(a){return e.handleServerResponse(a,e.getBookedDates,A,t)}).catch(function(A){return Promise.reject(A||"We're having technical issues - please try again in a few minutes.")})}},{key:"requestChangeDateStatus",value:function(A,e){if(d()(A).isValid()){var t=d()(A).format("YYYY-MM-DD");return this.changeDateStatus({date:t,newStatus:e})}return Promise.reject("The date supplied is not valid.")}},{key:"changeDateStatus",value:function(A){var e=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=A.date,n=A.newStatus;return fetch(this.baseUrl+"/reserved/".concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({reserved:n})}).then(function(a){return e.handleServerResponse(a,e.changeDateStatus,A,t)}).catch(function(A){return Promise.reject(A||"We're having technical issues - please try again in a few minutes.")})}},{key:"handleServerResponse",value:function(A,e,t,a){return 500===A.status?a>=8?Promise.reject("The server is experiencing issues at the moment - please try again in a few minutes."):e(t,a+1):400===A.status?Promise.reject("Invalid date(s) supplied to server."):Promise.resolve(A.json())}}]),A}();I.init();t(22);var D=function(A){var e=A.prevText,t=A.centerText,a=A.nextText,o=A.handlePrevClicked,i=A.handleNextClicked;return n.a.createElement("div",{className:"nav-header"},n.a.createElement("div",{className:"block-link prev",onClick:o},"< ",e),n.a.createElement("div",{className:"center"},t),n.a.createElement("div",{className:"block-link next",onClick:i},a," >"))},w=(t(24),function(A){var e=A.error,t=A.helpText,a=A.close;return n.a.createElement("div",{className:"modal"},n.a.createElement("span",{className:"close",onClick:a},"\xd7"),n.a.createElement("div",{className:"modal-content"},t,e&&" If this keeps happening, please contact support."))}),Q=function(A){var e=A.isToday,t=A.isBooked,a=A.isDisabled,o=A.isSunday,i=A.date,r=A.handleClicked,g=A.mobile;return n.a.createElement("div",{onClick:function(){return!a&&r(i)},className:"calendar-day grid-cell "+(e&&" today ")+(t&&" booked ")+(!t&&!a&&!o&&" unbooked ")+(a&&" disabled ")+(o&&" sunday ")},g?d()(i).format("ddd D MMM YYYY"):d()(i).date())},E=(t(26),function(A){function e(){var A;Object(g.a)(this,e),(A=Object(C.a)(this,Object(c.a)(e).call(this))).checkSize=function(){var e=window.matchMedia("screen and (max-width: 600px)").matches;A.state.mobile!==e&&A.setState({mobile:e})},A.renderWeekDayHeader=function(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(function(A){return n.a.createElement("div",{className:"week-day-header grid-cell",key:A},A)})},A.mapAndRenderDates=function(){for(var e=A.props,t=e.monthInView,a=e.today,o=A.state.mobile,i=[],r=d()(t).startOf("month"),g=d()(t).endOf("month"),s=d()(r).startOf("week"),C=d()(g).endOf("week"),c=d()(o?r:s);c.isBefore(o?g:C);c.add(1,"days"))i.push(d()(c));return i.map(function(e){return n.a.createElement(Q,{date:e,key:e,handleClicked:A.dateClicked,mobile:o,isSunday:0===e.day(),isBooked:!!A.isDateBooked(e),isToday:!!A.doDatesMatch(e,a),isDisabled:d()(e).isBefore(r)||d()(e).isAfter(g)})})},A.doDatesMatch=function(A,e){return d()(A).isSame(e,"day")},A.isDateBooked=function(e){return A.props.booked.find(function(t){return A.doDatesMatch(t,e)})},A.dateClicked=function(e){A.props.requestChangeDateStatus(e,!A.isDateBooked(e))};var t=window.matchMedia("screen and (max-width: 600px)").matches;return A.state={mobile:t},A}return Object(h.a)(e,A),Object(s.a)(e,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.checkSize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.checkSize)}},{key:"render",value:function(){var A=this.state.mobile;return n.a.createElement("div",{className:"calendar-grid"},A?null:this.renderWeekDayHeader(),this.mapAndRenderDates())}}]),e}(n.a.Component)),k=function(A){function e(){var A;Object(g.a)(this,e),(A=Object(C.a)(this,Object(c.a)(e).call(this))).nMonthsBack=function(A,e){return d()(A).subtract(e,"month").startOf("month")},A.nMonthsForward=function(A,e){return d()(A).add(e,"month").endOf("month")},A.handlePrevClicked=function(){var e=A.state.earliestDateChecked,t=d()(A.state.monthInView).subtract(1,"month"),a=d()(t).isBefore(e);A.setState({monthInView:t,loading:a},function(){d()(t).subtract(3,"month").isBefore(e)&&A.fetchSixMonthsBack()})},A.fetchSixMonthsBack=function(){var e=A.state.earliestDateChecked,t=A.nMonthsBack(e,6);I.requestBookedDates(t,e).then(function(e){A.setState({booked:Object(r.a)(e.payload).concat(Object(r.a)(A.state.booked)),earliestDateChecked:t,loading:!1})}).catch(function(e){return A.showModalWithError(e)})},A.handleNextClicked=function(){var e=A.state.latestDateChecked,t=d()(A.state.monthInView).add(1,"month"),a=d()(t).isAfter(e);A.setState({monthInView:t,loading:a},function(){d()(t).add(3,"month").isAfter(e)&&A.fetchSixMonthsForward()})},A.fetchSixMonthsForward=function(){var e=A.state.latestDateChecked,t=A.nMonthsForward(e,6);I.requestBookedDates(e,t).then(function(e){A.setState({booked:Object(r.a)(A.state.booked).concat(Object(r.a)(e.payload)),latestDateChecked:t,loading:!1})}).catch(function(e){return A.showModalWithError(e)})},A.requestChangeDateStatus=function(e,t){if(0===e.day())return A.setState({showHelpModal:!0,error:!1,helpText:"Sorry, you aren't able to change the booking status of Sundays."});A.setState({loading:!0},function(){I.requestChangeDateStatus(e,t).then(function(a){if(a.ok){var n=t?Object(r.a)(A.state.booked).concat([e.format()]):A.state.booked.filter(function(A){return!d()(A).isSame(e,"day")});A.setState({booked:n,loading:!1})}}).catch(function(e){return A.showModalWithError(e)})})},A.showModalWithError=function(e){A.setState({showHelpModal:!0,error:!1,helpText:e,loading:!1})},A.clearAndCloseModal=function(){A.setState({showHelpModal:!1,error:!1,helpText:""})};var t=new Date,a=t;return A.state={today:t,monthInView:a,showHelpModal:!1,loading:!1,booked:[]},A}return Object(h.a)(e,A),Object(s.a)(e,[{key:"componentDidMount",value:function(){var A=this,e=this.state.today,t=this.nMonthsBack(e,6),a=this.nMonthsForward(e,6);this.setState({loading:!0}),I.requestBookedDates(t,a).then(function(e){return A.setState({booked:e.payload,earliestDateChecked:t,latestDateChecked:a,loading:!1})}).catch(function(e){return A.showModalWithError(e)})}},{key:"render",value:function(){var A=this.state,e=A.monthInView,t=A.booked,a=A.today,o=A.loading,i=A.showHelpModal,r=A.error,g=A.helpText;return n.a.createElement("div",{className:"app"},i&&n.a.createElement(w,{error:r,helpText:g,close:this.clearAndCloseModal}),o&&n.a.createElement("img",{src:u.a,className:"spinner",alt:"loading indicator"}),n.a.createElement("header",{className:"app-header"},"Spare Room"),n.a.createElement("div",{className:"main-container"},n.a.createElement(D,{prevText:d()(e).subtract(1,"month").format("MMM YYYY"),centerText:d()(e).format("MMMM YYYY"),nextText:d()(e).add(1,"month").format("MMM YYYY"),handlePrevClicked:this.handlePrevClicked,handleNextClicked:this.handleNextClicked}),n.a.createElement(E,{monthInView:e,booked:t,today:a,requestChangeDateStatus:this.requestChangeDateStatus})))}}]),e}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(A){A.unregister()})}],[[11,2,1]]]);
//# sourceMappingURL=main.25f9f531.chunk.js.map